{
    "typeName": "EWS::Kafka::Topic",
    "description": "Resource to create Kafka topics in your cluster.",
    "sourceUrl": "https://github.com/ews-network/cfn-kafka-acl-resource-provider",
    "required": [
        "Name", "PartitionsCount"
    ],
    "properties": {
        "Name": {
            "$id": "#/definitions/Name"
        },
        "PartitionsCount": {
            "$id": "#/definitions/PartitionsCount"
        },
        "ReplicationFactor": {
            "$id": "#/definitions/ReplicationFactor"
        },
        "Settings": {
            "$id": "#/definitions/Settings"
        },
        "Schema": {
            "$id": "#/definitions/Schema"
        }
    },
    "definitions": {
        "Name": {
            "$comment": "The name of the kafka topic",
            "type": "string",
            "minLength": 1,
            "pattern": "^[a-zA-Z0-9_.-]+$",
            "description": "Kafka topic name"
        },
        "PartitionsCount": {
            "type": "integer",
            "default": 1,
            "description": "Number of partitions for the new Kafka topic"
        },
        "ReplicationFactor": {
            "type": "integer",
            "default": 3,
            "description": "Kafka topic replication factor"
        },
        "Settings": {
            "type": "object"
        },
        "Schema": {
            "type": "object",
            "properties": {
                "Type": {
                    "type": "string",
                    "enum": [
                        "AVRO",
                        "JSON",
                        "PROTOBUFF"
                    ]
                },
                "Definition": {
                    "type": ["object", "string"]
                }
            }
        }
    }
}
